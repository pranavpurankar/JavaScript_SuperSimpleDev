<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Functions</title>
</head>
<body style="background-color: #313131; color: aliceblue;">
    
    <p>
        <ul>
            <li>Anonymous function</li>
            A function without name is known as anonymous function <br>
            Ex: const function = function (){};
            <br>Basically the function we used to write in the javascript
            like function greeting() {} is a long cut of the 
            var greeting  = function (){}. Using var is not advisiable.
            <br><br>

            <li>Hoisting</li>
            <br>Our standard javascript function syntax that is
            <br> greeting();
            <br> function greeting(){
            <br>    console.log(greeting)
            <br> }

            Hoisting means you can call the function before it's declaration
            since it dosen't matter what the order is. Function is declared
            before or after, condition is it should somewhere exists in the 
            code. That is the advantage of the this syntax.

            <li>Method</li>
            Function saved inside an object, is known as method.

            <li>Callback and Passing function into another function </li>
            The function that we are passing in is called a callback function or
            a callback. In our case run functions inupt is anonymous function 
            which is a callback. <br>
            Ex:
                <br>function run(param){
                <br>    param(); -> param is variable bt taking input as func
                <br> }
                <br>run (function () { -> taking another func {aka callback func}
                <br>    console.log("Hello callback func")
                <br> })

            <li> JavaScript feature setTimeout()</li>
            This allows us to run a function in the future.
            <br>syntax of this built-in function
            <br> setTimeout(param1, param2)
            <br> param1 -> function that we want to run in the future
            <br> param2 -> how long to wait before running this function
            
            <li> Asynchronous and Synchronous</li>
            • Asynchronous <br>
            To understand this let's take our example of setTimeout(1000mlsc->1sec)
            <br> setTimeout(function(console.log('timeout'),2000))
            <br> console.log('next line')
            <br>output:-
            <br> next line
            <br> timeout (after 2 sec)

            <br> Why first 'next line' is printed ?
            <br> This is because js will see that setTimeout need to be executed 
            after 2 sec. So instead of waiting for 2sec it will prints first 
            "next line" and after 2 sec -> "timeout"
            <br>The setTimeout block of code is know as Asynchronous code. This 
            means that computer won't wait to finish this line before going to 
            next line. So setTimeout sets up the timeout and immediately goes to 
            the next line.
            <br> It is similiar to real-life if we setup a timer using clock; we 
            won't for timer until it finishes. We perform other tasks and timer will
            run in background.
            
            <li> Synchronous</li>
            The Synchronous code will for one line to finish before going to the
            next line to finish. All the code we have written in this course so
            far is known as Synchronous code. The code inside the setTimeout func
            is also the Synchronous code; as it will execute line by line. Don't
            get confused it is simple concept. Generally all the code we write is
            Synchronous code; it will execute line by line.
            <br> When we use certain feature from JavaScript like setTimeout; at
            that our code becomes Asynchronous.

            <i>for each - Another way to loop through an array</i>
            <br>[
            <br>    'make dinner',
            <br>    'wash dishes',
            <br>    'watch youtube'
            <br> ].forEach(function(value){
            <br>        console.log(value);
            <br> });
            
            <ul>
                <li>It will take the first value and save it in the parameter 
                    value</li>
                <li>and run the function</li>
                <li>Above process will continues till end of loop</li>
                <li>forEach method is a preferred way to loop through an array
                    it is easier to read
                </li>
            </ul>

            <li> Advanced Functions (part two) - Arrow functions</li>
            <p>
                An shorter way to write a functions in JavaScript that is arrow
                functions. Arrow functions will mostly work the same way as the
                regular functions.

                <br>
                When we passing function into another function it is recommended
                to use Arrow function.

                <br> One major disadvantage of Arrow function is it does not supports
                Hoisting.

                <br> We can use arrow functions with objects also
            </p>

            <li>Practise</li>
            <p>
                Create a button element and add some functionality.
                <br> Every HTML element has method .addEventListener();
                <br> Lets us run some code when we interact with the element. It sort of 
                does the same think onclick
                <br>elementName.addEventListener(param1, param2)
                <br>• param1: event -> what type of interaction we want to listen for in
                our case that is 'click'. The way to find this attribute is onclick. The
                Word after on -> click; that  is the event.
                <br>• param2: A function that we want to run, when we click this element.

                <br> When we click a button -> click it will run the function; basically
                it will does the same thing as onclick, but there are some advantages
                over using attribute.
                <br> • Advantages:
                <br> 1. It just lets us add multiple event listeners for an event
                <br> 2. We can remove event listener using method .removeEventListener();
                <br> 3. It gives us more control over event listeners. It is the best
                practises to use .addEventListeners instead of onclick="";
            </p>



        </ul>
    </p>

    <button onclick="" class="js-button">Click</button>

    <script>

        const buttonElement = document.querySelector('.js-button');

        const eventListener = () => {
            console.log('click');
        };

        buttonElement.addEventListener('click', eventListener);

        // removing event listener
        buttonElement.removeEventListener('click', eventListener);

        // Multiple event execution, when we click it will run above and below
        buttonElement.addEventListener('click', () => {
            console.log('click2');
        });



        let log = console.log;

        /*
        // Functions are values

        const function1 = function () {
            log("Hello");
        };

        log(function1);
        log(typeof function1);
        function1();

        // Functions are values we can also save function inside the object
        const object1 = {
            num:2,
            fun: function (){log('hello inside object');}
        };

        object1.fun();

        // pass a value in the function
        function display(param){
            log(param);
        }
        display(2);
        
        //Passing function into another function
        function run(param){
            param();            
        };

        run(function(){
            log('Hello func inside func')
        })
        */

        // setTimeout - built in function
        /*
        setTimeout(function(){
            log('Timeout');
        }, 3000);

        log('next line');

        // setInterval - It will keep running function 
        // after cetain period of time
        setInterval(function(){
            log('interval');
        }, 3000);

        log('next line Interval');
        */
        
        // forEach method to loop through an array
        /*
        [
            'make dinner',
            'wash dishes',
            'watch youtube'
        ].forEach(function (value, index){
            log(index);
            log(value);
        });

        log('\n\nreturn to get out of this loop\n\n');

        // In the loops we' ve learned about break, continue but in 
        // forEach it is not the case. Instead we can use return
        [
            'make dinner',
            'wash dishes',
            'watch youtube'
        ].forEach(function (value, index){
            if (value === 'wash dishes'){
                return;
            }
            log(index);
            log(value);
        });

        // Practise on arrow function rewrite the above function using arrow
        log('\n\nSameAbove function using arrow');
        [
            'make dinner',
            'wash dishes',
            'watch youtube'
        ].forEach((value, index) => {log(value);log(index);})


        log('\n\n==== Arrow functions =====')
        // Arrow functions
        const arrowFunction = (param, param2) => {
            return 5;
        };

        log(arrowFunction());

        // Regular function
        const regularFunction = function(param, param2){
            return 5;
        };

        log(regularFunction());

        log('\n ==== Differences Arrow vs Regular =====');
        // Differences
        // When arrow func as only one parameter (bracket) is optional
        const oneParam = param => {
            log(param + 1);
        };
        oneParam(2);

        // oneLine arrow function
        const oneLine = () => { 
            return 2+2; 
        }
        
        // when arrow function has single line like above can be written as
        // It has single line hence no need to add return and {brackets}
        // It is one line arrow function
        const oneLineShortCut = () => 2 + 3;
        log(oneLineShortCut());

        // Arrow functions and objects

        const object2 = {
            method: () => {
                log('This syntax can be used.But not easier to read.');
            },
            methods() {
                log('It is recommended way bcz easier to read. Shorthand')
            }
        };
        */


    </script>
</body>
</html>